{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/views/Assessment.vue?cb24","webpack:///./src/views/Assessment.vue","webpack:///./src/views/Assessment.vue?30a7","webpack:///./src/views/Assessment.vue?2d04"],"names":["_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","value","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","case_","caseSpec","staticStyle","matchingProcesses","processSpec","staticRenderFns","extend","components","Case","CaseTable","data","move","hostCountry","editable","disabled","dateRange","route","created","$on","handleChangeHostCountry","handleInputDateRange","computed","Object","assign","methods","country","process","host_country","http","postFetchDataOrNull","body","JSON","stringify","map","entryDate","exitDate","target_entry_date","target_exit_date","component"],"mappings":"4JAAe,SAASA,EAAgBC,GACtC,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,E,4DCDlB,SAASG,EAAsBH,EAAKI,GACjD,IAAIC,EAAKL,IAA0B,qBAAXM,QAA0BN,EAAIM,OAAOC,WAAaP,EAAI,eAE9E,GAAU,MAANK,EAAJ,CACA,IAIIG,EAAIC,EAJJC,EAAO,GACPC,GAAK,EACLC,GAAK,EAIT,IACE,IAAKP,EAAKA,EAAGQ,KAAKb,KAAQW,GAAMH,EAAKH,EAAGS,QAAQC,MAAOJ,GAAK,EAG1D,GAFAD,EAAKM,KAAKR,EAAGS,OAETb,GAAKM,EAAKQ,SAAWd,EAAG,MAE9B,MAAOe,GACPP,GAAK,EACLH,EAAKU,EARP,QAUE,IACOR,GAAsB,MAAhBN,EAAG,WAAmBA,EAAG,YADtC,QAGE,GAAIO,EAAI,MAAMH,GAIlB,OAAOC,G,gBC3BM,SAASU,IACtB,MAAM,IAAIC,UAAU,6ICGP,SAASC,EAAetB,EAAKI,GAC1C,OAAOmB,EAAevB,IAAQwB,EAAqBxB,EAAKI,IAAMqB,eAA2BzB,EAAKI,IAAMsB,M,gECLtG,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACE,YAAY,YAAY,CAACN,EAAIO,GAAG,2EAA2EH,EAAG,OAAO,CAACI,MAAM,CAAC,MAAQR,EAAIS,MAAM,SAAWT,EAAIU,SAAS,YAAa,KAASN,EAAG,KAAK,CAACE,YAAY,iBAAiB,CAACN,EAAIO,GAAG,yBAAyBH,EAAG,MAAM,CAACE,YAAY,OAAOK,YAAY,CAAC,SAAW,YAAY,CAACP,EAAG,aAAa,CAACI,MAAM,CAAC,KAAOR,EAAIY,kBAAkB,WAAaZ,EAAIa,YAAY,UAAY,CAACb,EAAIa,aAAa,WAAY,EAAM,WAAY,MAAU,IAAI,MACvnBC,EAAkB,G,8ICsCP,eAAIC,OAAO,CACxBC,WAAY,CACVC,OAAA,KACAC,YAAA,MAGFC,KANwB,WAOtB,MAAO,CACLC,KAAM,iBACNV,SAAU,CACRW,YAAa,CACXC,UAAU,EACVC,UAAU,GAEZC,UAAW,CACTF,UAAU,EACVC,UAAU,IAGdX,kBAAmB,GACnBC,YAAa,CACXY,MAAO,CACLH,UAAU,EACVC,UAAU,MAMlBG,QA7BwB,WAgCtB,OAASC,IAAI,iBAAkB1B,KAAK2B,yBACpC,OAASD,IAAI,oBAAqB1B,KAAK4B,uBAGzCC,SAAU,CACRrB,MADQ,WAEN,OAAOsB,OAAOC,OAAO,iBAAY,CAAEZ,KAAMnB,KAAKmB,SAIlDa,QAAS,CACDL,wBADC,SACuBM,GAA0B,qKACtD,EAAKzB,MAAM0B,QAAQV,MAAMW,aAAeF,EACxC,EAAKd,KAAKgB,aAAeF,EAF6B,SAIrBG,EAAA,KAAKC,oBACpC,sBACA,CACEC,KAAMC,KAAKC,UAAU,EAAKrB,QAPwB,OAIhDR,EAJgD,OAUlDA,IACF,EAAKA,kBAAoBA,EAAkB8B,KAAI,SAACP,GAAD,OAC7CJ,OAAOC,OAAO,iBAAY,CAAEG,gBAZsB,8CAiBxDN,qBAlBO,YAkBiD,0BAAlCc,EAAkC,KAAvBC,EAAuB,KACtD3C,KAAKmB,KAAKyB,kBAAoB,eAAeF,GAC7C1C,KAAKmB,KAAK0B,iBAAmB,eAAeF,OCrGmV,I,YCOjYG,EAAY,eACd,EACAhD,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAiC,E","file":"js/chunk-0d6ca882.5f86b5bf.js","sourcesContent":["export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"section\"},[_c('h1',{staticClass:\"subtitle\"},[_vm._v(\" Describe your move! Matching immigration options will appear below. \")]),_c('case',{attrs:{\"case_\":_vm.case_,\"caseSpec\":_vm.caseSpec,\"showClient\":false}}),_c('h1',{staticClass:\"subtitle mt-6\"},[_vm._v(\"Immigration Options\")]),_c('div',{staticClass:\"card\",staticStyle:{\"overflow\":\"visible\"}},[_c('case-table',{attrs:{\"rows\":_vm.matchingProcesses,\"columnSpec\":_vm.processSpec,\"caseSpecs\":[_vm.processSpec],\"focusable\":false,\"paginated\":false}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport \"vue-json-pretty/lib/styles.css\";\n\nimport {\n  CaseSerializer,\n  CountrySerializer,\n  ProcessSerializer,\n} from \"@/autogenerated-interfaces\";\nimport Case from \"@/components/Case.vue\";\nimport CaseTable from \"@/components/CaseTable.vue\";\nimport { CaseSpec } from \"@/editable-component\";\nimport { NullCase, NullMove } from \"@/factories\";\nimport { dateToYYYYMMDD } from \"@/utils\";\nimport eventBus from \"@/event-bus\";\nimport http from \"@/http\";\n\nexport default Vue.extend({\n  components: {\n    Case,\n    CaseTable,\n  },\n\n  data() {\n    return {\n      move: NullMove(),\n      caseSpec: {\n        hostCountry: {\n          editable: true,\n          disabled: false,\n        },\n        dateRange: {\n          editable: true,\n          disabled: false,\n        },\n      } as CaseSpec,\n      matchingProcesses: [] as CaseSerializer[],\n      processSpec: {\n        route: {\n          editable: false,\n          disabled: false,\n        },\n      } as CaseSpec,\n    };\n  },\n\n  created() {\n    // TODO: This global event bus is a bit sketchy. What about if something\n    // else is changing a country for some other reason?\n    eventBus.$on(\"update:country\", this.handleChangeHostCountry);\n    eventBus.$on(\"update:date-range\", this.handleInputDateRange);\n  },\n\n  computed: {\n    case_(): CaseSerializer {\n      return Object.assign(NullCase(), { move: this.move });\n    },\n  },\n\n  methods: {\n    async handleChangeHostCountry(country: CountrySerializer) {\n      this.case_.process.route.host_country = country;\n      this.move.host_country = country;\n\n      const matchingProcesses = (await http.postFetchDataOrNull(\n        \"/api/process/query/\",\n        {\n          body: JSON.stringify(this.move),\n        }\n      )) as ProcessSerializer[] | null;\n      if (matchingProcesses) {\n        this.matchingProcesses = matchingProcesses.map((process) =>\n          Object.assign(NullCase(), { process })\n        );\n      }\n    },\n\n    handleInputDateRange([entryDate, exitDate]: [Date, Date]): void {\n      this.move.target_entry_date = dateToYYYYMMDD(entryDate);\n      this.move.target_exit_date = dateToYYYYMMDD(exitDate);\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Assessment.vue?vue&type=template&id=490322ce&\"\nimport script from \"./Assessment.vue?vue&type=script&lang=ts&\"\nexport * from \"./Assessment.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}