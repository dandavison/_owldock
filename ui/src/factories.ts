import {
  CaseSerializer,
  ClientSerializer,
  CountrySerializer,
  ApplicantSerializer,
  ProcessSerializer,
  ProviderContactSerializer,
  ProviderSerializer,
  RouteSerializer,
  UserSerializer,
  CaseStepContractSerializer,
  MoveSerializer,
} from "./autogenerated-interfaces";

export function NullCountry(): CountrySerializer {
  return {
    name: "",
    code: "",
    unicode_flag: "",
  };
}

export function NullRoute(): RouteSerializer {
  return {
    name: "",
    host_country: NullCountry(),
  };
}

function NullProcess(): ProcessSerializer {
  return {
    uuid: undefined,
    route: NullRoute(),
    steps: [],
  };
}

function NullUser(): UserSerializer {
  return { email: "" };
}

function NullClient(): ClientSerializer {
  return { name: "" };
}

export function NullApplicant(): ApplicantSerializer {
  return {
    user: NullUser(),
    employer: NullClient(),
    home_country: NullCountry(),
    nationalities: [],
  };
}

export function NullMove(): MoveSerializer {
  return {
    host_country: NullCountry(),
    target_entry_date: undefined,
    target_exit_date: undefined,
  };
}

export function NullProvider(): ProviderSerializer {
  return {
    logo_url: "",
    name: "",
  };
}

export function NullProviderContact(): ProviderContactSerializer {
  return {
    user: NullUser(),
    provider: NullProvider(),
  };
}

export function NullCase(): CaseSerializer {
  return {
    uuid: undefined,
    applicant: NullApplicant(),
    move: NullMove(),
    process: NullProcess(),
    steps: [],
  };
}

export function NullCaseStepContract(): CaseStepContractSerializer {
  return {
    provider_contact: NullProviderContact(),
  };
}

// TODO: better options here?

export function countryIsNull(country: CountrySerializer): boolean {
  return !country.code;
}

export function processIsNull(process: ProcessSerializer): boolean {
  return routeIsNull(process.route);
}

export function routeIsNull(route: RouteSerializer): boolean {
  return !route.name || countryIsNull(route.host_country);
}
export function userIsNull(user: UserSerializer): boolean {
  return !user.first_name;
}

export function applicantIsNull(applicant: ApplicantSerializer): boolean {
  return userIsNull(applicant.user);
}

export function providerContactIsNull(
  providerContact: ProviderContactSerializer
): boolean {
  return userIsNull(providerContact.user);
}
